!function(e){var t={};function s(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=0)}([function(e,t,s){s(1),e.exports=s(6)},function(e,t,s){Nova.booting(function(e,t,n){e.component("editable-status-card",s(2))})},function(e,t,s){var n=s(3)(s(4),s(5),!1,null,null,null);e.exports=n.exports},function(e,t){e.exports=function(e,t,s,n,r,i){var o,a=e=e||{},c=typeof e.default;"object"!==c&&"function"!==c||(o=e,a=e.default);var l,d="function"==typeof a?a.options:a;if(t&&(d.render=t.render,d.staticRenderFns=t.staticRenderFns,d._compiled=!0),s&&(d.functional=!0),r&&(d._scopeId=r),i?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(i)},d._ssrRegister=l):n&&(l=n),l){var u=d.functional,p=u?d.render:d.beforeCreate;u?(d._injectStyles=l,d.render=function(e,t){return l.call(t),p(e,t)}):d.beforeCreate=p?[].concat(p,l):[l]}return{esModule:o,exports:a,options:d}}},function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:["resourceName","resourceId","panel"],data:{editPermission:!1,currentBackgroundColor:"#fff",currentTextColor:"#000",cards_size:"w-1/5",title_size:"text-xl",status_size:"text-2xl",edit_field_size:"text-sm",icon_width_size:"w-16",choices_size:"15px",save_button_size:"text-sm"},mounted:function(){this.checkPermission(),this.getComponentSizes()},methods:{checkPermission:function(){var e=this,t=this.resourceName;Nova.request().post("/nova-vendor/editable-status-card/allowediting",{resourceName:t}).then(function(t){e.editPermission=t.data.result,e.$forceUpdate()})},getComponentSizes:function(){var e=this,t=this.resourceName;Nova.request().post("/nova-vendor/editable-status-card/sizes",{resourceName:t}).then(function(t){e.cards_size=t.data.result.cards_size,e.title_size=t.data.result.title_size,e.status_size=t.data.result.status_size,e.edit_field_size=t.data.result.edit_field_size,e.icon_width_size=t.data.result.icon_width_size,e.choices_size=t.data.result.choices_size,e.save_button_size=t.data.result.save_button_size,e.$forceUpdate()})},choiceMouseOver:function(e,t){var s=this.panel.fields[e].background_color[t],n=this.panel.fields[e].data[t],r=document.getElementById("preview_text"+e);r.innerHTML=n,r.style.color=s,r.style.display="",document.getElementById("clicked_text"+e).style.display="none"},choiceMouseLeave:function(e,t){document.getElementById("preview_text"+e).style.display="none",document.getElementById("clicked_text"+e).style.display=""},choiceClicked:function(e,t,s){var n=this.panel.fields[e].background_color[t],r=this.panel.fields[e].data[t],i=document.getElementById("clicked_text"+e);i.innerHTML=r,i.style.color=n;for(var o=s.target.parentElement.querySelectorAll(".choices"),a=0;a<o.length;a++)o[a].classList.remove("active");s.target.classList.add("active")},toggleEditField:function(e,t){var s=document.getElementById("editField"+e);s.classList.toggle("active"),s.classList.contains("active")?t.target.innerHTML="Cancel":t.target.innerHTML="Edit",t.target.blur()},save:function(e,t){for(var s=this,n=(this.panel.fields[e].data,t.target.parentElement.querySelector("#clicked_text"+e).innerHTML),r=0,i=0;i<this.panel.fields[e].data.length;i++)if(this.panel.fields[e].data[i]==n){r=i;break}Nova.request().post("/nova-vendor/editable-status-card/save",{resourceName:s.resourceName,resourceId:s.resourceId,attribute:s.panel.fields[e].attribute,value:r}).then(function(n){if(n.data.error)s.$toasted.show(n.data.error,{type:"error"});else{s.$toasted.show(n.data.data,{type:"success"}),s.panel.fields[e].value=r,document.getElementById("preview_text"+e).innerHTML="",document.getElementById("clicked_text"+e).innerHTML="";for(var i=t.target.parentElement.parentElement.parentElement.querySelectorAll(".choices"),o=0;o<i.length;o++)i[o].classList.remove("active");var a=t.target.parentElement.parentElement.parentElement.querySelector("button");console.log(t.target.parentElement.parentElement.parentElement),a.click(),s.$forceUpdate()}}).catch(function(e){s.$toasted.show(e.response,{type:"error"})})}}}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"p-4"},[s("div",{staticClass:"flex flex-wrap -m-4"},e._l(e.panel.fields,function(t,n){return s("div",{key:t.key,class:"p-4 "+e.cards_size},[s("div",{staticClass:"rounded overflow-hidden shadow-lg text-center",style:{color:t.text_color[t.value],backgroundColor:t.background_color[t.value]},attrs:{id:"card_container"+n}},[s("div",{staticClass:"px-6 py-4"},[s("div",{class:"font-bold mt-4 mb-6 text-center smallcaps "+e.title_size},[t.title?s("span",[e._v("\n              "+e._s(t.title)+"\n            ")]):s("span",[e._v(" Editable Status Card ")])]),e._v(" "),s("hr",{style:{border:"1px solid "+t.text_color[t.value]}}),e._v(" "),s("div",{staticClass:"flex space-x-4 mt-6 items-center"},[t.icon?s("img",{class:e.icon_width_size,attrs:{src:t.icon}}):e._e(),e._v(" "),s("div",{class:"text-center w-full mx-6 uppercase smallcaps "+e.status_size},[e._v("\n              "+e._s(t.data[t.value])+"\n            ")])])]),e._v(" "),e.editPermission?s("button",{staticClass:"bg-transparent hover:bg-white font-semibold hover-text-black py-2 px-4 border border-black hover-border-transparent rounded my-6 outline-none uppercase",style:{color:t.text_color[t.value],borderColor:t.text_color[t.value],minWidth:"calc(100% - 3em)"},on:{click:function(t){return e.toggleEditField(n,t)}}},[e._v("\n          Edit\n        ")]):e._e(),e._v(" "),s("div",{staticClass:"edit-field grid gap-10 transition-all ease-in-out duration-300 bg-white",attrs:{id:"editField"+n}},[s("div",{staticClass:"flex flex-wrap justify-center px-2 py-3 w-full cursor-pointer"},e._l(t.data,function(r,i){return s("div",{key:r,staticClass:"choices rounded-full bg-success mx-2 p-3",style:{backgroundColor:t.background_color[i],width:e.choices_size,height:e.choices_size},on:{mouseover:function(t){return e.choiceMouseOver(n,i)},mouseleave:function(t){return e.choiceMouseLeave(n,i)},click:function(t){return e.choiceClicked(n,i,t)}}})}),0),e._v(" "),s("hr",{staticClass:"border-black mb-3 mt-0 text-black"}),e._v(" "),s("div",{staticClass:"flex justify-between items-center text-gray-900 my-3 mx-3"},[s("div",{staticClass:"text-center w-full"},[s("span",{class:"flex-1 text-black text-bold uppercase "+e.edit_field_size,attrs:{id:"preview_text"+n}}),e._v(" "),s("span",{class:"flex-1 text-black text-bold uppercase "+e.edit_field_size,style:{color:e.currentTextColor},attrs:{id:"clicked_text"+n}})]),e._v(" "),s("button",{class:"px-6 py-2 transition ease-in duration-200 uppercase rounded-full hover-bg-gray-800 hover:text-white border-2 border-gray-900 focus:outline-none "+e.save_button_size,on:{click:function(t){return e.save(n,t)}}},[e._v("\n              save\n            ")])])])])])}),0)])},staticRenderFns:[]}},function(e,t){}]);